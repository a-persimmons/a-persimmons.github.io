<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.122.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>A-Persimmon`s</title>
<meta name=keywords content="Blog,Persimmon，柿子"><meta name=description content="Persimmon description"><meta name=author content="Me"><link rel=canonical href=https://blog.codingforjoy.com/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.codingforjoy.com/index.xml><link rel=alternate type=application/json href=https://blog.codingforjoy.com/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="A-Persimmon`s"><meta property="og:description" content="Persimmon description"><meta property="og:type" content="website"><meta property="og:url" content="https://blog.codingforjoy.com/"><meta property="og:image" content="https://blog.codingforjoy.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="Persimmon"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.codingforjoy.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="A-Persimmon`s"><meta name=twitter:description content="Persimmon description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"A-Persimmon`s","url":"https://blog.codingforjoy.com/","description":"Persimmon description","thumbnailUrl":"https://blog.codingforjoy.com/%3Clink%20/%20abs%20url%3E","sameAs":["https://github.com/a-persimmons"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.codingforjoy.com/ accesskey=h title="Home (Alt + H)"><img src=https://s2.loli.net/2024/05/31/ZoSPjtxUXDlLIC3.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.codingforjoy.com/about/ title=关于我><span>关于我</span></a></li><li><a href=https://blog.codingforjoy.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.codingforjoy.com/search/ title=搜索><span>搜索</span></a></li><li><a href=https://blog.codingforjoy.com/tags/ title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>5. Spring 核心：AOP，面向切面编程</h2></header><div class=entry-content><p>本文内容是逐段翻译Spring-Framework 1.1.x 官方文档的第5章的内容。通过在翻译阅读过程中去尝试感受当年作者的意境。为什么不是1.0？因为1.1.x才开始有官方文档，之前的版本只有api文档。
如果你想知道人为什么要这么搞，那么应该去看书/文档；如果你要知道让机器干了什么？那你应该看代码！——左耳朵耗子
5.1. 概念 面向方面编程（AOP）提供了另一种思考程序结构的方法，是对 OOP 的补充。OO 将应用程序分解为对象的层次结构，而 AOP 则将程序分解为方面或关注点。这样就能将事务管理等关注点模块化，否则这些关注点就会跨越多个对象。(这类问题通常被称为交叉问题）。
Spring 中使用了 AOP：
提供声明式企业服务，尤其是作为 EJB 声明式服务的替代。其中最重要的服务是声明式事务管理，它建立在 Spring 的事务抽象之上。 允许用户实现自定义 AOP，用 AOP 补充他们对 OOP 的使用。 因此，您可以将 Spring AOP 视为一种使能技术，它允许 Spring 在不使用 EJB 的情况下提供声明式事务管理；或者使用 Spring AOP 框架的全部功能来实现自定义方面。
如果你只对通用声明式服务或其他预打包的声明式中间件服务（如池化服务）感兴趣，就不需要直接使用 Spring AOP，也可以跳过本章的大部分内容。
5.1.1. AOP 概念 首先，让我们定义一些 AOP 核心概念。这些术语并非 Spring 特有。遗憾的是，AOP 术语并不特别直观。不过，如果 Spring 使用自己的术语，那就更令人困惑了。
切面(Aspect)：模块化的关注点，否则其实现可能会跨越多个对象。在 J2EE 应用程序中，事务管理就是横切关注点的一个很好的例子。方面使用 Spring 作为顾问或拦截器来实现。 连接点(Joinpoint)：程序执行过程中的点，如方法调用或抛出的特定异常。在 Spring AOP 中，连接点总是方法调用。Spring 并未在显著位置使用连接点一词；连接点信息可通过传递给拦截器的 MethodInvocation 参数上的方法访问，并通过 org.springframework.aop.Pointcut 接口的实现进行评估。 通知(Advice)：AOP 框架在特定连接点采取的行动。不同类型的通知包括 “around”、“before”、“throws” 通知。下面将讨论通知类型。包括 Spring 在内的许多 AOP 框架都将通知建模为拦截器，并在连接点 “around"维护一连串拦截器。 切点(Pointcut)：一组连接点，指定何时应触发通知。AOP 框架必须允许开发人员指定切点：例如，使用正则表达式。 引介(Introduction)：为通知类添加方法或字段。Spring 允许你为任何通知对象引介新的接口。例如，你可以使用导言让任何对象实现 IsModified 接口，以简化缓存。 目标对象(Target object)：包含连接点的对象。也称为通知对象或代理对象。 AOP 代理(AOP proxy)：由 AOP 框架创建的对象，包括通知。在 Spring 中，AOP 代理将是 JDK 动态代理或 CGLIB 代理。 编织(Weaving)：组装各个方面以创建通知对象。这可以在编译时完成（例如使用 AspectJ 编译器），也可以在运行时完成。Spring 和其他纯 Java AOP 框架一样，在运行时执行编织。 不同的通知类型包括：...</p></div><footer class=entry-footer><span title='2022-10-08 20:01:00 +0000 UTC'>October 8, 2022</span>&nbsp;·&nbsp;12 min&nbsp;·&nbsp;2528 words&nbsp;·&nbsp;柿子</footer><a class=entry-link aria-label="post link to 5. Spring 核心：AOP，面向切面编程" href=https://blog.codingforjoy.com/posts/spring%E6%A0%B8%E5%BF%83aop%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Mysql调优理论篇</h2></header><div class=entry-content><p>关于MySQL调优理论.</p></div><footer class=entry-footer><span title='2021-08-17 19:59:25 +0000 UTC'>August 17, 2021</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;1890 words&nbsp;·&nbsp;柿子</footer><a class=entry-link aria-label="post link to Mysql调优理论篇" href=https://blog.codingforjoy.com/posts/mysql%E8%B0%83%E4%BC%98%E7%90%86%E8%AE%BA%E7%AF%87/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>浅入Class字节码</h2></header><div class=entry-content><p>关于Class字节码.</p></div><footer class=entry-footer><span title='2021-06-20 20:59:25 +0000 UTC'>June 20, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;539 words&nbsp;·&nbsp;柿子</footer><a class=entry-link aria-label="post link to 浅入Class字节码" href=https://blog.codingforjoy.com/posts/%E6%B5%85%E5%85%A5class%E5%AD%97%E8%8A%82%E7%A0%81/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>多线程下发生OOM其他线程不会停止</h2></header><div class=entry-content><p>关于多线程下发生OOM其他线程不会停止.</p></div><footer class=entry-footer><span title='2021-06-14 08:03:23 +0000 UTC'>June 14, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;119 words&nbsp;·&nbsp;柿子</footer><a class=entry-link aria-label="post link to 多线程下发生OOM其他线程不会停止" href=https://blog.codingforjoy.com/posts/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E5%8F%91%E7%94%9Foom%E5%85%B6%E4%BB%96%E7%BA%BF%E7%A8%8B%E4%B8%8D%E4%BC%9A%E5%81%9C%E6%AD%A2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Java Core</h2></header><div class=entry-content><p>关于Java核心.</p></div><footer class=entry-footer><span title='2021-06-06 17:59:25 +0000 UTC'>June 6, 2021</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;45 words&nbsp;·&nbsp;柿子</footer><a class=entry-link aria-label="post link to Java Core" href=https://blog.codingforjoy.com/posts/java-core/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://blog.codingforjoy.com/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://blog.codingforjoy.com/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://blog.codingforjoy.com/>A-Persimmon`s</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>